---
import Layout from "../layouts/Layout.astro";
import { RegisterForm } from "../components/RegisterForm";

// Check if user is already logged in
const { cookies, redirect } = Astro;
const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/");
}
---

<Layout title="Zarejestruj się - VibeTravels">
  <div class="container max-w-md mx-auto py-10">
    <div class="space-y-6">
      <div class="space-y-2 text-center">
        <h1 class="text-3xl font-bold">Zarejestruj się</h1>
        <p class="text-muted-foreground">Utwórz konto, aby rozpocząć korzystanie z serwisu</p>
      </div>
      
      <RegisterForm client:load />
      
      <div class="text-center text-sm">
        <p>Masz już konto? <a href="/login" class="text-primary hover:underline">Zaloguj się</a></p>
      </div>
    </div>
  </div>
</Layout>