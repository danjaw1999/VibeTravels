---
import Layout from "../layouts/Layout.astro";
import LoginForm from "../components/LoginForm";

// Check if user is already logged in
const { cookies, redirect } = Astro;
const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/");
}
---

<Layout title="Zaloguj się - VibeTravels">
  <div class="container max-w-md mx-auto py-10">
    <div class="space-y-6">
      <div class="space-y-2 text-center">
        <h1 class="text-3xl font-bold">Zaloguj się</h1>
        <p class="text-muted-foreground">Wprowadź swoje dane, aby się zalogować</p>
      </div>
      
      <LoginForm client:load redirectTo="/welcome" />
      
      <div class="text-center text-sm">
        <p>Nie masz jeszcze konta? <a href="/register" class="text-primary hover:underline">Zarejestruj się</a></p>
      </div>
    </div>
  </div>
</Layout> 