---
import Layout from "@/layouts/Layout.astro";
import { Card } from "@/components/ui/card";
import { createSupabaseServerInstance } from "@/db/supabase";
import { PenLine, Globe2, Users } from "lucide-react";

const supabase = createSupabaseServerInstance({
  cookies: Astro.cookies,
  headers: Astro.request.headers,
});

const {
  data: { user },
} = await supabase.auth.getUser();
---

<Layout title="VibeTravels - Share Your Travel Stories">
  <main>
    <!-- Hero Section -->
    <div class="relative py-24 overflow-hidden">
      <div class="container mx-auto px-4">
        <div class="text-center max-w-3xl mx-auto mb-16">
          <h1
            class="text-4xl md:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/50 mb-6"
          >
            Welcome to VibeTravels
          </h1>
          <p class="text-xl md:text-2xl text-muted-foreground">
            Start sharing your travel experiences and discover amazing stories from travelers around the world
          </p>
        </div>

        <!-- Feature Cards -->
        <div class="grid md:grid-cols-2 gap-8 max-w-6xl mx-auto">
          <!-- Create Notes Card -->
          <a href="/travel-notes/new" class="group">
            <div
              class="bg-card hover:bg-accent transition-colors p-8 rounded-xl shadow-lg border border-border hover:border-primary/50 h-full flex flex-col"
            >
              <div
                class="h-16 w-16 bg-primary/10 group-hover:bg-primary/20 transition-colors rounded-full flex items-center justify-center mb-6 mx-auto"
              >
                <PenLine className="h-8 w-8 text-primary" />
              </div>
              <h3 class="text-2xl font-semibold mb-4 text-center">Create Travel Notes</h3>
              <p class="text-muted-foreground text-center flex-grow">
                Create your travel notes, choose your favorite attractions, and share your favorite moments with the
                community.
              </p>
            </div>
          </a>

          <!-- Discover Stories Card -->
          <a href="/travel-notes" class="group" data-testid="travel-notes-button">
            <div
              class="bg-card hover:bg-accent transition-colors p-8 rounded-xl shadow-lg border border-border hover:border-primary/50 h-full flex flex-col"
            >
              <div
                class="h-16 w-16 bg-primary/10 group-hover:bg-primary/20 transition-colors rounded-full flex items-center justify-center mb-6 mx-auto"
              >
                <Globe2 className="h-8 w-8 text-primary" />
              </div>
              <h3 class="text-2xl font-semibold mb-4 text-center">Discover Stories</h3>
              <p class="text-muted-foreground text-center flex-grow">
                Browse through travel notes from other adventurers and get inspired for your next trip.
              </p>
            </div>
          </a>
        </div>
      </div>
    </div>
  </main>
</Layout>

<style>
  .shadow-lg {
    box-shadow:
      0 4px 6px -1px rgb(var(--primary) / 0.05),
      0 10px 15px -3px rgb(var(--primary) / 0.1);
  }
</style>
